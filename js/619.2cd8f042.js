"use strict";(self["webpackChunkprojekt"]=self["webpackChunkprojekt"]||[]).push([[619],{2619:function(e,s,r){r.r(s),r.d(s,{default:function(){return w}});var t=r(6768),o=r(5130),a=r(4232);const l={class:"formbold-input-flex"},n={class:"formbold-input-flex"},i={class:"formbold-input-flex"},d={class:"formbold-input-flex"},u={key:0,class:"alert alert-danger"},c={key:1,class:"alert alert-success"},m={class:"login-link"};function p(e,s,r,p,h,g){const f=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("form",{onSubmit:s[4]||(s[4]=(0,o.D$)(((...e)=>g.handleSubmit&&g.handleSubmit(...e)),["prevent"])),class:"form-container"},[s[10]||(s[10]=(0,t.Lk)("h2",{class:"formbold-form-title"},"Registrierung",-1)),(0,t.Lk)("div",l,[(0,t.Lk)("div",null,[s[5]||(s[5]=(0,t.Lk)("label",{for:"username",class:"formbold-form-label"},"Benutzername",-1)),(0,t.bo)((0,t.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":s[0]||(s[0]=e=>h.username=e),class:"formbold-form-input",placeholder:"Benutzername (max. 15 Zeichen)",required:"",maxlength:"15"},null,512),[[o.Jo,h.username]])])]),(0,t.Lk)("div",n,[(0,t.Lk)("div",null,[s[6]||(s[6]=(0,t.Lk)("label",{for:"email",class:"formbold-form-label"},"E-Mail",-1)),(0,t.bo)((0,t.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":s[1]||(s[1]=e=>h.email=e),class:"formbold-form-input",placeholder:"E-Mail",required:""},null,512),[[o.Jo,h.email]])])]),(0,t.Lk)("div",i,[(0,t.Lk)("div",null,[s[7]||(s[7]=(0,t.Lk)("label",{for:"password",class:"formbold-form-label"},"Passwort",-1)),(0,t.bo)((0,t.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":s[2]||(s[2]=e=>h.password=e),class:"formbold-form-input",placeholder:"Passwort (mind. 8 Zeichen)",required:"",minlength:"8"},null,512),[[o.Jo,h.password]])])]),(0,t.Lk)("div",d,[(0,t.Lk)("div",null,[s[8]||(s[8]=(0,t.Lk)("label",{for:"password_confirm",class:"formbold-form-label"},"Passwort bestätigen",-1)),(0,t.bo)((0,t.Lk)("input",{type:"password",id:"password_confirm","onUpdate:modelValue":s[3]||(s[3]=e=>h.password_confirm=e),class:"formbold-form-input",placeholder:"Passwort eingeben",required:"",minlength:"8"},null,512),[[o.Jo,h.password_confirm]])])]),h.errorMessage?((0,t.uX)(),(0,t.CE)("div",u,(0,a.v_)(h.errorMessage),1)):(0,t.Q3)("",!0),h.successMessage?((0,t.uX)(),(0,t.CE)("div",c,[(0,t.eW)((0,a.v_)(h.successMessage)+" ",1),s[9]||(s[9]=(0,t.Lk)("p",null,"Du wirst in Kürze zur Startseite weitergeleitet...",-1))])):(0,t.Q3)("",!0),s[11]||(s[11]=(0,t.Lk)("button",{type:"submit",class:"formbold-btn"},"Registrieren",-1))],32),(0,t.Lk)("div",m,[(0,t.Lk)("p",null,[s[13]||(s[13]=(0,t.eW)("Schon ein Account vorhanden? ")),(0,t.bF)(f,{to:"/login"},{default:(0,t.k6)((()=>s[12]||(s[12]=[(0,t.eW)("Hier einloggen")]))),_:1})])])],64)}var h=r(4373),g={name:"RegisterComponent",data(){return{username:"",email:"",password:"",password_confirm:"",errorMessage:"",successMessage:"",stepLength:null}},methods:{validatePassword(e){const s=8,r=/[A-Z]/.test(e),t=/[a-z]/.test(e),o=/[0-9]/.test(e),a=/[!@#$%^&*(),.?":{}|<>]/.test(e);return e.length<s?"Password must be at least 8 characters long.":r?t?o?a?null:"Password must contain at least one special character.":"Password must contain at least one number.":"Password must contain at least one lowercase letter.":"Password must contain at least one uppercase letter."},async handleSubmit(){const e=this.validatePassword(this.password);if(e)return this.errorMessage=e,void(this.successMessage="");if(this.password!==this.password_confirm)return this.errorMessage="The passwords don't match.",void(this.successMessage="");this.stepLength=localStorage.getItem("step_size")?Number(localStorage.getItem("step_size")):null,console.log("Type of stepLength:",typeof this.stepLength),console.log("Value of stepLength:",this.stepLength);const s={username:this.username,email:this.email,password:this.password,step_length:this.stepLength};try{const e=await h.A.post("https://treescope.cs.hs-fulda.de/auth/register",s);if(201!==e.status)throw new Error("Unerwarteter Fehler");console.log("Registrierung erfolgreich:",e.data),this.errorMessage="",this.successMessage="Registrierung erfolgreich! Bitte überprüfe deine E-Mail und bestätige deine Adresse, bevor du dich anmeldest.",this.redirectToHome()}catch(r){console.error("Fehler bei der Registrierung:",r),r.response&&403===r.response.status?this.errorMessage="Diese E-Mail-Adresse oder der Benutzername wird bereits verwendet.":this.errorMessage="Es ist ein Fehler aufgetreten. Bitte versuche es erneut.",this.successMessage=""}},redirectToHome(){setTimeout((()=>{window.location.href="/"}),5e3)}}},f=r(1241);const b=(0,f.A)(g,[["render",p],["__scopeId","data-v-4e21bb9c"]]);var w=b}}]);
//# sourceMappingURL=619.2cd8f042.js.map