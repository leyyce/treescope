"use strict";(self["webpackChunkprojekt"]=self["webpackChunkprojekt"]||[]).push([[356],{8356:function(e,s,r){r.r(s),r.d(s,{default:function(){return k}});var t=r(6768),o=r(5130),a=r(4232);const l={class:"page-container"},i={class:"formbold-input-flex"},n={class:"formbold-input-flex"},d={class:"formbold-input-flex"},u={class:"formbold-input-flex"},c={key:0,class:"alert alert-danger"},m={key:1,class:"alert alert-success"},p={class:"login-link"};function h(e,s,r,h,f,g){const b=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)("div",l,[(0,t.Lk)("form",{onSubmit:s[4]||(s[4]=(0,o.D$)(((...e)=>g.handleSubmit&&g.handleSubmit(...e)),["prevent"])),class:"form-container"},[s[10]||(s[10]=(0,t.Lk)("h2",{class:"formbold-form-title"},"Registrierung",-1)),(0,t.Lk)("div",i,[(0,t.Lk)("div",null,[s[5]||(s[5]=(0,t.Lk)("label",{for:"username",class:"formbold-form-label"},"ðŸ‘¤ Benutzername",-1)),(0,t.bo)((0,t.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":s[0]||(s[0]=e=>f.username=e),class:"formbold-form-input",placeholder:"Benutzername (max. 15 Zeichen)",required:"",maxlength:"15"},null,512),[[o.Jo,f.username]])])]),(0,t.Lk)("div",n,[(0,t.Lk)("div",null,[s[6]||(s[6]=(0,t.Lk)("label",{for:"email",class:"formbold-form-label"},"ðŸ“§ E-Mail",-1)),(0,t.bo)((0,t.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":s[1]||(s[1]=e=>f.email=e),class:"formbold-form-input",placeholder:"E-Mail",required:""},null,512),[[o.Jo,f.email]])])]),(0,t.Lk)("div",d,[(0,t.Lk)("div",null,[s[7]||(s[7]=(0,t.Lk)("label",{for:"password",class:"formbold-form-label"},"ðŸ”’ Passwort",-1)),(0,t.bo)((0,t.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":s[2]||(s[2]=e=>f.password=e),class:"formbold-form-input",placeholder:"Passwort (mind. 8 Zeichen)",required:"",minlength:"8"},null,512),[[o.Jo,f.password]])])]),(0,t.Lk)("div",u,[(0,t.Lk)("div",null,[s[8]||(s[8]=(0,t.Lk)("label",{for:"password_confirm",class:"formbold-form-label"},"ðŸ”’ Passwort bestÃ¤tigen",-1)),(0,t.bo)((0,t.Lk)("input",{type:"password",id:"password_confirm","onUpdate:modelValue":s[3]||(s[3]=e=>f.password_confirm=e),class:"formbold-form-input",placeholder:"Passwort eingeben",required:"",minlength:"8"},null,512),[[o.Jo,f.password_confirm]])])]),f.errorMessage?((0,t.uX)(),(0,t.CE)("div",c,(0,a.v_)(f.errorMessage),1)):(0,t.Q3)("",!0),f.successMessage?((0,t.uX)(),(0,t.CE)("div",m,[(0,t.eW)((0,a.v_)(f.successMessage)+" ",1),s[9]||(s[9]=(0,t.Lk)("p",null,"Du wirst in KÃ¼rze zur Startseite weitergeleitet...",-1))])):(0,t.Q3)("",!0),s[11]||(s[11]=(0,t.Lk)("button",{type:"submit",class:"formbold-btn"},"Registrieren",-1))],32),(0,t.Lk)("div",p,[(0,t.Lk)("p",null,[s[13]||(s[13]=(0,t.eW)("Schon ein Account vorhanden? ")),(0,t.bF)(b,{to:"/login"},{default:(0,t.k6)((()=>s[12]||(s[12]=[(0,t.eW)("Hier einloggen ðŸ”‘")]))),_:1})])])])}var f=r(4373),g={name:"RegisterComponent",data(){return{username:"",email:"",password:"",password_confirm:"",errorMessage:"",successMessage:"",stepLength:null}},methods:{validatePassword(e){const s=8;if(e.length<s)return"Password must be at least 8 characters long."},async handleSubmit(){const e=this.validatePassword(this.password);if(e)return this.errorMessage=e,void(this.successMessage="");if(this.password!==this.password_confirm)return this.errorMessage="Die PasswÃ¶rter stimmen nicht Ã¼berein.",void(this.successMessage="");this.stepLength=localStorage.getItem("step_size")?Number(localStorage.getItem("step_size")):null;const s={username:this.username,email:this.email,password:this.password,step_length:this.stepLength};try{const e=await f.A.post("https://treescope.cs.hs-fulda.de/auth/register",s);if(201!==e.status)throw new Error("Unerwarteter Fehler");this.errorMessage="",this.successMessage="Registrierung erfolgreich! Bitte Ã¼berprÃ¼fe deine E-Mail und bestÃ¤tige deine Adresse, bevor du dich anmeldest.",this.redirectToHome()}catch(r){r.response&&403===r.response.status?this.errorMessage="Diese E-Mail-Adresse oder der Benutzername wird bereits verwendet.":this.errorMessage="Es ist ein Fehler aufgetreten. Bitte versuche es erneut.",this.successMessage=""}},redirectToHome(){setTimeout((()=>{window.location.href="/"}),5e3)}}},b=r(1241);const w=(0,b.A)(g,[["render",h],["__scopeId","data-v-5d712175"]]);var k=w}}]);
//# sourceMappingURL=356.ff7f179c.js.map