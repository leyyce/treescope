"use strict";(self["webpackChunkprojekt"]=self["webpackChunkprojekt"]||[]).push([[212],{2212:function(e,r,o){o.r(r),o.d(r,{default:function(){return v}});o(4114);var l=o(6768),s=o(5130),a=o(4232),t=o(144),n=o(1387);const u={class:"form-container"},i={class:"formbold-input-flex"},d={class:"formbold-input-flex"},c={class:"formbold-input-flex remember-forgot"},p={class:"register-link"},m={key:0};var k={__name:"LoginComponent",setup(e){const r=(0,t.KR)(""),o=(0,t.KR)(""),k=(0,t.KR)(""),b=(0,n.rd)(),f=async()=>{try{const e=await fetch("https://treescope.cs.hs-fulda.de/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r.value,password:o.value})}),l=await e.json();e.ok?(localStorage.setItem("token",l.access_token),localStorage.setItem("step_size",l.user.step_length),b.push("/")):k.value=l.error||"Login fehlgeschlagen"}catch(e){k.value="Netzwerkfehler oder Server nicht erreichbar"}};return(e,t)=>{const n=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",u,[t[8]||(t[8]=(0,l.Lk)("h2",{class:"formbold-form-title"},"Login",-1)),(0,l.Lk)("div",i,[(0,l.Lk)("div",null,[t[2]||(t[2]=(0,l.Lk)("label",{for:"username",class:"formbold-form-label"},"Benutzername",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),type:"text",name:"Username",id:"email",placeholder:"Benutzername eingeben",class:"formbold-form-input",required:""},null,512),[[s.Jo,r.value]])])]),(0,l.Lk)("div",d,[(0,l.Lk)("div",null,[t[3]||(t[3]=(0,l.Lk)("label",{for:"password",class:"formbold-form-label"},"Passwort",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.value=e),type:"password",name:"password",id:"password",placeholder:"Passwort eingeben",class:"formbold-form-input",required:""},null,512),[[s.Jo,o.value]])])]),(0,l.Lk)("div",c,[t[5]||(t[5]=(0,l.Lk)("div",{class:"remember-password"},[(0,l.Lk)("label",{for:"remember"},"Merken"),(0,l.Lk)("input",{type:"checkbox",id:"remember"})],-1)),(0,l.Lk)("div",null,[(0,l.bF)(n,{to:"/passwordreset"},{default:(0,l.k6)((()=>t[4]||(t[4]=[(0,l.Lk)("button",{class:"formbold-btn"},"Passwort vergessen?",-1)]))),_:1})])]),(0,l.Lk)("button",{onClick:f,class:"formbold-btn"},"Login"),(0,l.Lk)("div",p,[(0,l.Lk)("p",null,[t[7]||(t[7]=(0,l.eW)("Noch kein Account? ")),(0,l.bF)(n,{to:"/register"},{default:(0,l.k6)((()=>t[6]||(t[6]=[(0,l.eW)("Hier registrieren")]))),_:1})])]),k.value?((0,l.uX)(),(0,l.CE)("p",m,(0,a.v_)(k.value),1)):(0,l.Q3)("",!0)])}}},b=o(1241);const f=(0,b.A)(k,[["__scopeId","data-v-5abe1aa8"]]);var v=f}}]);
//# sourceMappingURL=212.6d50d863.js.map