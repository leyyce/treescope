{"version":3,"file":"js/713.e8da734d.js","mappings":"6aAgDA,MAAMA,GAAWC,EAAAA,EAAAA,IAAI,IACfC,GAAWD,EAAAA,EAAAA,IAAI,IACfE,GAAeF,EAAAA,EAAAA,IAAI,IACnBG,GAASC,EAAAA,EAAAA,MAETC,EAAQC,UACZ,IACE,MAAMC,QAAiBC,MAAM,8CAA+C,CAC1EC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAGlBC,KAAMC,KAAKC,UAAU,CACnBd,SAAUA,EAASe,MACnBb,SAAUA,EAASa,UAIjBC,QAAaR,EAASS,OAExBT,EAASU,IACXC,aAAaC,QAAQ,QAASJ,EAAKK,cACnCjB,EAAOkB,KAAK,MAEZnB,EAAaY,MAAQC,EAAKO,OAAS,sBAEvC,CAAE,MAAOA,GACPpB,EAAaY,MAAQ,6CACvB,G,00CCvEF,MAAMS,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://projekt/./src/components/LoginComponent.vue","webpack://projekt/./src/components/LoginComponent.vue?29d0"],"sourcesContent":["<template>\r\n  <div class=\"form-container\">\r\n\r\n    <h2 class=\"formbold-form-title\">Login</h2>\r\n\r\n    <div class=\"formbold-input-flex\">\r\n      <div>\r\n        <label for=\"email\" class=\"formbold-form-label\">E-Mail</label>\r\n        <input v-model=\"username\" type=\"text\" name=\"Username\" id=\"email\" placeholder=\"Benutzername eingeben\"\r\n          class=\"formbold-form-input\" required />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"formbold-input-flex\">\r\n      <div>\r\n        <label for=\"password\" class=\"formbold-form-label\">Passwort</label>\r\n        <input v-model=\"password\" type=\"password\" name=\"password\" id=\"password\" placeholder=\"Passwort eingeben\"\r\n          class=\"formbold-form-input\" required />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"formbold-input-flex remember-forgot\">\r\n      <label for=\"remember\">\r\n        <input type=\"checkbox\" id=\"remember\" /> Merken\r\n        <router-link to=\"/passwordreset\">\r\n          <button class=\"formbold-btn\">Passwort vergessen?</button>\r\n        </router-link>\r\n      </label>\r\n      <!--<a href=\"#\" class=\"forgot-password\">Passwort vergessen?</a>-->\r\n    </div>\r\n\r\n\r\n\r\n    <button @click=\"login\" class=\"formbold-btn\">Login</button>\r\n\r\n    <div class=\"register-link\">\r\n      <!--<p>Don't have an account? <router-link to=\"/register\">Register</router-link></p>-->\r\n    </div>\r\n\r\n    <p v-if=\"errorMessage\">{{ errorMessage }}</p>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\n\r\nconst username = ref(\"\");\r\nconst password = ref(\"\");\r\nconst errorMessage = ref(\"\");\r\nconst router = useRouter();\r\n\r\nconst login = async () => {\r\n  try {\r\n    const response = await fetch(\"https://treescope.cs.hs-fulda.de/auth/login\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      }, // API erwartet JSON-Daten\r\n\r\n      body: JSON.stringify({\r\n        username: username.value,\r\n        password: password.value,\r\n      }),\r\n    });\r\n\r\n    const data = await response.json();\r\n\r\n    if (response.ok) {\r\n      localStorage.setItem(\"token\", data.access_token); // Speichert das Token\r\n      router.push(\"/\"); // Weiterleitung nach erfolgreichem Login\r\n    } else {\r\n      errorMessage.value = data.error || \"Login fehlgeschlagen\";\r\n    }\r\n  } catch (error) {\r\n    errorMessage.value = \"Netzwerkfehler oder Server nicht erreichbar\";\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import './style.css';\r\n</style>","import script from \"./LoginComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LoginComponent.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LoginComponent.vue?vue&type=style&index=0&id=d9263e54&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d9263e54\"]])\n\nexport default __exports__"],"names":["username","ref","password","errorMessage","router","useRouter","login","async","response","fetch","method","headers","body","JSON","stringify","value","data","json","ok","localStorage","setItem","access_token","push","error","__exports__"],"sourceRoot":""}