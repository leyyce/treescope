{"version":3,"file":"js/526.4881e10a.js","mappings":"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","sources":["webpack://projekt/./node_modules/core-js/internals/to-string.js","webpack://projekt/./src/components/OverviewCardComponent.vue","webpack://projekt/./src/components/OverviewCardComponent.vue?1319","webpack://projekt/./node_modules/core-js/internals/normalize-string-argument.js","webpack://projekt/./node_modules/core-js/internals/object-set-prototype-of.js","webpack://projekt/./node_modules/core-js/internals/inherit-if-required.js","webpack://projekt/./node_modules/core-js/internals/a-possible-prototype.js","webpack://projekt/./node_modules/core-js/internals/is-possible-prototype.js","webpack://projekt/./node_modules/core-js/modules/web.dom-exception.stack.js","webpack://projekt/./node_modules/core-js/internals/dom-exception-constants.js","webpack://projekt/./node_modules/core-js/internals/error-stack-clear.js"],"sourcesContent":["'use strict';\nvar classof = require('../internals/classof');\n\nvar $String = String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw new TypeError('Cannot convert a Symbol value to a string');\n  return $String(argument);\n};\n","<template>\r\n  <div class=\"scroll-container\">\r\n    <div class=\"card\" v-for=\"tree in filteredTrees\" :key=\"tree.id\">\r\n      <img :src=\"tree.imageUrl\" alt=\"Bild von {{ tree.tree_type.name }}\" class=\"card-image\"\r\n        @click=\"toggleImage(tree)\" />\r\n      <div class=\"card-content\">\r\n        <h2>{{ `${tree.tree_type.name} (${tree.tree_type.scientific_name})` }}</h2>\r\n        <p>\r\n          <strong>Standort:</strong>\r\n          {{ tree.locationName ? tree.locationName : \"Keine Angaben\" }}\r\n        </p>\r\n        <p><strong>Höhe:</strong> {{ tree.height }} m</p>\r\n        <p><strong>Datum:</strong> {{ formatDate(tree.created_at) }}</p>\r\n        <p><strong>CO₂ Gespeichert:</strong> {{ tree.co2_stored.toFixed(2) }} kg</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"CardView\",\r\n  data() {\r\n    return {\r\n      selectedDate: \"\",\r\n      filteredTrees: [],\r\n      trees: []\r\n    };\r\n  },\r\n  computed: {\r\n    uniqueSpecies() {\r\n      return [...new Set(this.trees.map(tree => tree.tree_type))];\r\n    },\r\n    uniqueLocations() {\r\n      return [\r\n        ...new Set(\r\n          this.trees.map(\r\n            tree => tree.locationName || (tree.latitude + \", \" + tree.longitude)\r\n          )\r\n        )\r\n      ];\r\n    },\r\n    averageHeight() {\r\n      if (!this.filteredTrees.length) return 0;\r\n      const totalHeight = this.filteredTrees.reduce((sum, tree) => sum + Number(tree.height), 0);\r\n      return (totalHeight / this.filteredTrees.length).toFixed(2);\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchTrees() {\r\n      try {\r\n        const token = localStorage.getItem(\"token\");\r\n        const url = \"https://treescope.cs.hs-fulda.de/api/v1/trees/user-tree\";\r\n        const response = await fetch(url, {\r\n          method: \"GET\",\r\n          headers: {\r\n            accept: \"application/json\",\r\n            ...(token && { Authorization: `Bearer ${token}` })\r\n          }\r\n        });\r\n        if (!response.ok) {\r\n          console.error(\"Fehler beim Laden der Baumdaten\");\r\n          return;\r\n        }\r\n        const data = await response.json();\r\n        console.log(\"Serverantwort:\", data);\r\n        let allTrees = data.trees || [];\r\n        const currentUserId = this.getCurrentUserId(token);\r\n        // Only shows the trees of the registered user\r\n        this.trees = allTrees.filter(tree =>\r\n          tree.initial_creator_id === currentUserId &&\r\n          tree.latitude && tree.longitude &&\r\n          !isNaN(parseFloat(tree.latitude)) &&\r\n          !isNaN(parseFloat(tree.longitude))\r\n        );\r\n        // measurements, Reverse-Geocoding und imageUrl\r\n        await Promise.all(\r\n          this.trees.map(async (tree) => {\r\n            const measurement = (tree.measurements && tree.measurements.length > 0)\r\n              ? tree.measurements[0]\r\n              : null;\r\n            tree.height = measurement ? measurement.height : \"\";\r\n            tree.locationName = await this.reverseGeocode(parseFloat(tree.latitude), parseFloat(tree.longitude));\r\n            tree.imageUrl = this.getImageUrl(tree);\r\n          })\r\n        );\r\n        this.updateFilteredTrees();\r\n      } catch (error) {\r\n        console.error(\"Netzwerkfehler:\", error);\r\n      }\r\n    },\r\n    updateFilteredTrees() {\r\n      //Filters by date\r\n      this.filteredTrees = this.trees.filter(tree => {\r\n        const treeDate = tree.created_at ? tree.created_at.substring(0, 10) : \"\";\r\n        return this.selectedDate ? treeDate === this.selectedDate : true;\r\n      });\r\n    },\r\n    getCurrentUserId(token) {\r\n      if (!token) return null;\r\n      try {\r\n        const payload = JSON.parse(atob(token.split('.')[1]));\r\n        return payload.id;\r\n      } catch (error) {\r\n        console.error(\"Fehler beim Auslesen der Benutzer-ID aus dem Token:\", error);\r\n        return null;\r\n      }\r\n    },\r\n    async reverseGeocode(lat, lon) {\r\n      try {\r\n        if (!lat || !lon || isNaN(lat) || isNaN(lon)) return \"\";\r\n        const response = await fetch(\r\n          `https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${lat}&lon=${lon}`\r\n        );\r\n        const result = await response.json();\r\n        if (result.address) {\r\n          return result.address.city || result.address.town || result.address.village || \"\";\r\n        }\r\n        return \"\";\r\n      } catch (error) {\r\n        console.error(\"Reverse-Geocoding-Fehler:\", error);\r\n        return \"\";\r\n      }\r\n    },\r\n    getImageUrl(tree) {\r\n      const baseUrl = \"https://treescope.cs.hs-fulda.de/static/uploads\";\r\n      if (tree.files && tree.files.length > 0 && tree.files[0].photo_path) {\r\n        // preferred image index\r\n        const key = `preferredImage-${tree.id}`;\r\n        let preferredIndex = localStorage.getItem(key);\r\n        preferredIndex = preferredIndex ? parseInt(preferredIndex, 10) : 0;\r\n        if (preferredIndex >= tree.files.length) {\r\n          preferredIndex = 0;\r\n        }\r\n        let photoPath = tree.files[preferredIndex].photo_path.trim();\r\n        if (photoPath.startsWith(\"/uploads/\")) {\r\n          photoPath = photoPath.replace(/^\\/uploads\\//, \"\");\r\n        } else if (photoPath.startsWith(\"/static/uploads/\")) {\r\n          photoPath = photoPath.replace(/^\\/static\\/uploads\\//, \"\");\r\n        }\r\n        return `${baseUrl}/${photoPath}`;\r\n      }\r\n      return null;\r\n    },\r\n    toggleImage(tree) {\r\n      // Change the image with a click\r\n      if (tree.files && tree.files.length > 1) {\r\n        const key = `preferredImage-${tree.id}`;\r\n        let preferredIndex = localStorage.getItem(key);\r\n        preferredIndex = preferredIndex ? parseInt(preferredIndex, 10) : 0;\r\n        preferredIndex = (preferredIndex + 1) % tree.files.length;\r\n        localStorage.setItem(key, preferredIndex);\r\n        tree.imageUrl = this.getImageUrl(tree);\r\n      }\r\n    },\r\n    formatDate(dateString) {\r\n      if (!dateString) return \"\";\r\n      const date = new Date(dateString);\r\n      const day = String(date.getDate()).padStart(2, \"0\");\r\n      const month = String(date.getMonth() + 1).padStart(2, \"0\");\r\n      const year = date.getFullYear();\r\n      return `${day}.${month}.${year}`;\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchTrees();\r\n  }\r\n};\r\n</script>\r\n\r\n<script setup>\r\n\r\nimport { onMounted } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\n\r\n// Variable, um zu prüfen, ob der Benutzer authentifiziert ist\r\nconst router = useRouter();\r\n\r\n// Überprüfen, ob ein gültiges Token im localStorage vorhanden ist\r\nconst checkAuth = () => {\r\n  const token = localStorage.getItem(\"token\");\r\n  if (!token) {\r\n    router.push(\"/\"); // Falls kein Token vorhanden ist, zurück zur Login-Seite\r\n    return;\r\n  }\r\n};\r\n\r\n// Beim Laden der Seite die Authentifizierung prüfen\r\nonMounted(() => {\r\n  checkAuth();\r\n});\r\n\r\n</script>\r\n\r\n<style scoped>\r\n/* Standard styling for mobile devices */\r\n.scroll-container {\r\n  height: 100vh;\r\n  overflow-y: scroll;\r\n  scroll-snap-type: y mandatory;\r\n  -webkit-overflow-scrolling: touch;\r\n  margin: 0 auto;\r\n  max-width: 800px;\r\n}\r\n\r\n/* Card design */\r\n.card {\r\n  height: 100vh;\r\n  scroll-snap-align: start;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: #fff;\r\n  color: #333;\r\n  text-align: center;\r\n  position: relative;\r\n  padding: 10px;\r\n}\r\n\r\n/* Adapted image sizes:*/\r\n.card-image {\r\n  width: 100%;\r\n  max-width: 400px;\r\n  height: 250px;\r\n  object-fit: cover;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n}\r\n\r\n.card-content {\r\n  padding: 10px;\r\n  margin-top: 10px;\r\n  background: transparent;\r\n  border-radius: 5px;\r\n  width: 95%;\r\n  color: #333;\r\n}\r\n\r\n.card h2 {\r\n  font-size: 1.8em;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.card p {\r\n  font-size: 1.2em;\r\n  margin: 5px 0;\r\n}\r\n\r\n/* Adapted styling for desktop (from 768px) */\r\n@media (min-width: 768px) {\r\n  .scroll-container {\r\n    height: auto;\r\n    overflow-y: visible;\r\n    scroll-snap-type: none;\r\n  }\r\n\r\n  .card {\r\n    height: auto;\r\n    margin: 20px auto;\r\n    border-radius: 10px;\r\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n  }\r\n}\r\n</style>\r\n","import script from \"./OverviewCardComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./OverviewCardComponent.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./OverviewCardComponent.vue?vue&type=style&index=0&id=28cd7b0e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-28cd7b0e\"]])\n\nexport default __exports__","'use strict';\nvar toString = require('../internals/to-string');\n\nmodule.exports = function (argument, $default) {\n  return argument === undefined ? arguments.length < 2 ? '' : $default : toString(argument);\n};\n","'use strict';\n/* eslint-disable no-proto -- safe */\nvar uncurryThisAccessor = require('../internals/function-uncurry-this-accessor');\nvar isObject = require('../internals/is-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = uncurryThisAccessor(Object.prototype, '__proto__', 'set');\n    setter(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    requireObjectCoercible(O);\n    aPossiblePrototype(proto);\n    if (!isObject(O)) return O;\n    if (CORRECT_SETTER) setter(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","'use strict';\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    isCallable(NewTarget = dummy.constructor) &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","'use strict';\nvar isPossiblePrototype = require('../internals/is-possible-prototype');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument) {\n  if (isPossiblePrototype(argument)) return argument;\n  throw new $TypeError(\"Can't set \" + $String(argument) + ' as a prototype');\n};\n","'use strict';\nvar isObject = require('../internals/is-object');\n\nmodule.exports = function (argument) {\n  return isObject(argument) || argument === null;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar globalThis = require('../internals/global-this');\nvar getBuiltIn = require('../internals/get-built-in');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar defineProperty = require('../internals/object-define-property').f;\nvar hasOwn = require('../internals/has-own-property');\nvar anInstance = require('../internals/an-instance');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar normalizeStringArgument = require('../internals/normalize-string-argument');\nvar DOMExceptionConstants = require('../internals/dom-exception-constants');\nvar clearErrorStack = require('../internals/error-stack-clear');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IS_PURE = require('../internals/is-pure');\n\nvar DOM_EXCEPTION = 'DOMException';\nvar Error = getBuiltIn('Error');\nvar NativeDOMException = getBuiltIn(DOM_EXCEPTION);\n\nvar $DOMException = function DOMException() {\n  anInstance(this, DOMExceptionPrototype);\n  var argumentsLength = arguments.length;\n  var message = normalizeStringArgument(argumentsLength < 1 ? undefined : arguments[0]);\n  var name = normalizeStringArgument(argumentsLength < 2 ? undefined : arguments[1], 'Error');\n  var that = new NativeDOMException(message, name);\n  var error = new Error(message);\n  error.name = DOM_EXCEPTION;\n  defineProperty(that, 'stack', createPropertyDescriptor(1, clearErrorStack(error.stack, 1)));\n  inheritIfRequired(that, this, $DOMException);\n  return that;\n};\n\nvar DOMExceptionPrototype = $DOMException.prototype = NativeDOMException.prototype;\n\nvar ERROR_HAS_STACK = 'stack' in new Error(DOM_EXCEPTION);\nvar DOM_EXCEPTION_HAS_STACK = 'stack' in new NativeDOMException(1, 2);\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar descriptor = NativeDOMException && DESCRIPTORS && Object.getOwnPropertyDescriptor(globalThis, DOM_EXCEPTION);\n\n// Bun ~ 0.1.1 DOMException have incorrect descriptor and we can't redefine it\n// https://github.com/Jarred-Sumner/bun/issues/399\nvar BUGGY_DESCRIPTOR = !!descriptor && !(descriptor.writable && descriptor.configurable);\n\nvar FORCED_CONSTRUCTOR = ERROR_HAS_STACK && !BUGGY_DESCRIPTOR && !DOM_EXCEPTION_HAS_STACK;\n\n// `DOMException` constructor patch for `.stack` where it's required\n// https://webidl.spec.whatwg.org/#es-DOMException-specialness\n$({ global: true, constructor: true, forced: IS_PURE || FORCED_CONSTRUCTOR }, { // TODO: fix export logic\n  DOMException: FORCED_CONSTRUCTOR ? $DOMException : NativeDOMException\n});\n\nvar PolyfilledDOMException = getBuiltIn(DOM_EXCEPTION);\nvar PolyfilledDOMExceptionPrototype = PolyfilledDOMException.prototype;\n\nif (PolyfilledDOMExceptionPrototype.constructor !== PolyfilledDOMException) {\n  if (!IS_PURE) {\n    defineProperty(PolyfilledDOMExceptionPrototype, 'constructor', createPropertyDescriptor(1, PolyfilledDOMException));\n  }\n\n  for (var key in DOMExceptionConstants) if (hasOwn(DOMExceptionConstants, key)) {\n    var constant = DOMExceptionConstants[key];\n    var constantName = constant.s;\n    if (!hasOwn(PolyfilledDOMException, constantName)) {\n      defineProperty(PolyfilledDOMException, constantName, createPropertyDescriptor(6, constant.c));\n    }\n  }\n}\n","'use strict';\nmodule.exports = {\n  IndexSizeError: { s: 'INDEX_SIZE_ERR', c: 1, m: 1 },\n  DOMStringSizeError: { s: 'DOMSTRING_SIZE_ERR', c: 2, m: 0 },\n  HierarchyRequestError: { s: 'HIERARCHY_REQUEST_ERR', c: 3, m: 1 },\n  WrongDocumentError: { s: 'WRONG_DOCUMENT_ERR', c: 4, m: 1 },\n  InvalidCharacterError: { s: 'INVALID_CHARACTER_ERR', c: 5, m: 1 },\n  NoDataAllowedError: { s: 'NO_DATA_ALLOWED_ERR', c: 6, m: 0 },\n  NoModificationAllowedError: { s: 'NO_MODIFICATION_ALLOWED_ERR', c: 7, m: 1 },\n  NotFoundError: { s: 'NOT_FOUND_ERR', c: 8, m: 1 },\n  NotSupportedError: { s: 'NOT_SUPPORTED_ERR', c: 9, m: 1 },\n  InUseAttributeError: { s: 'INUSE_ATTRIBUTE_ERR', c: 10, m: 1 },\n  InvalidStateError: { s: 'INVALID_STATE_ERR', c: 11, m: 1 },\n  SyntaxError: { s: 'SYNTAX_ERR', c: 12, m: 1 },\n  InvalidModificationError: { s: 'INVALID_MODIFICATION_ERR', c: 13, m: 1 },\n  NamespaceError: { s: 'NAMESPACE_ERR', c: 14, m: 1 },\n  InvalidAccessError: { s: 'INVALID_ACCESS_ERR', c: 15, m: 1 },\n  ValidationError: { s: 'VALIDATION_ERR', c: 16, m: 0 },\n  TypeMismatchError: { s: 'TYPE_MISMATCH_ERR', c: 17, m: 1 },\n  SecurityError: { s: 'SECURITY_ERR', c: 18, m: 1 },\n  NetworkError: { s: 'NETWORK_ERR', c: 19, m: 1 },\n  AbortError: { s: 'ABORT_ERR', c: 20, m: 1 },\n  URLMismatchError: { s: 'URL_MISMATCH_ERR', c: 21, m: 1 },\n  QuotaExceededError: { s: 'QUOTA_EXCEEDED_ERR', c: 22, m: 1 },\n  TimeoutError: { s: 'TIMEOUT_ERR', c: 23, m: 1 },\n  InvalidNodeTypeError: { s: 'INVALID_NODE_TYPE_ERR', c: 24, m: 1 },\n  DataCloneError: { s: 'DATA_CLONE_ERR', c: 25, m: 1 }\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nvar $Error = Error;\nvar replace = uncurryThis(''.replace);\n\nvar TEST = (function (arg) { return String(new $Error(arg).stack); })('zxcasd');\n// eslint-disable-next-line redos/no-vulnerable, sonarjs/slow-regex -- safe\nvar V8_OR_CHAKRA_STACK_ENTRY = /\\n\\s*at [^:]*:[^\\n]*/;\nvar IS_V8_OR_CHAKRA_STACK = V8_OR_CHAKRA_STACK_ENTRY.test(TEST);\n\nmodule.exports = function (stack, dropEntries) {\n  if (IS_V8_OR_CHAKRA_STACK && typeof stack == 'string' && !$Error.prepareStackTrace) {\n    while (dropEntries--) stack = replace(stack, V8_OR_CHAKRA_STACK_ENTRY, '');\n  } return stack;\n};\n"],"names":["classof","$String","String","module","exports","argument","TypeError","__default__","name","data","selectedDate","filteredTrees","trees","computed","uniqueSpecies","Set","this","map","tree","tree_type","uniqueLocations","locationName","latitude","longitude","averageHeight","length","totalHeight","reduce","sum","Number","height","toFixed","methods","fetchTrees","token","localStorage","getItem","url","response","fetch","method","headers","accept","Authorization","ok","console","error","json","log","allTrees","currentUserId","getCurrentUserId","filter","initial_creator_id","isNaN","parseFloat","Promise","all","async","measurement","measurements","reverseGeocode","imageUrl","getImageUrl","updateFilteredTrees","treeDate","created_at","substring","payload","JSON","parse","atob","split","id","lat","lon","result","address","city","town","village","baseUrl","files","photo_path","key","preferredIndex","parseInt","photoPath","trim","startsWith","replace","toggleImage","setItem","formatDate","dateString","date","Date","day","getDate","padStart","month","getMonth","year","getFullYear","created","router","useRouter","checkAuth","push","onMounted","__exports__","toString","$default","undefined","arguments","uncurryThisAccessor","isObject","requireObjectCoercible","aPossiblePrototype","Object","setPrototypeOf","setter","CORRECT_SETTER","test","prototype","Array","O","proto","__proto__","isCallable","$this","dummy","Wrapper","NewTarget","NewTargetPrototype","constructor","isPossiblePrototype","$TypeError","$","globalThis","getBuiltIn","createPropertyDescriptor","defineProperty","hasOwn","anInstance","inheritIfRequired","normalizeStringArgument","DOMExceptionConstants","clearErrorStack","DESCRIPTORS","IS_PURE","DOM_EXCEPTION","Error","NativeDOMException","$DOMException","DOMExceptionPrototype","argumentsLength","message","that","stack","ERROR_HAS_STACK","DOM_EXCEPTION_HAS_STACK","descriptor","getOwnPropertyDescriptor","BUGGY_DESCRIPTOR","writable","configurable","FORCED_CONSTRUCTOR","global","forced","DOMException","PolyfilledDOMException","PolyfilledDOMExceptionPrototype","constant","constantName","s","c","IndexSizeError","m","DOMStringSizeError","HierarchyRequestError","WrongDocumentError","InvalidCharacterError","NoDataAllowedError","NoModificationAllowedError","NotFoundError","NotSupportedError","InUseAttributeError","InvalidStateError","SyntaxError","InvalidModificationError","NamespaceError","InvalidAccessError","ValidationError","TypeMismatchError","SecurityError","NetworkError","AbortError","URLMismatchError","QuotaExceededError","TimeoutError","InvalidNodeTypeError","DataCloneError","uncurryThis","$Error","TEST","arg","V8_OR_CHAKRA_STACK_ENTRY","IS_V8_OR_CHAKRA_STACK","dropEntries","prepareStackTrace"],"sourceRoot":""}