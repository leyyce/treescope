{"version":3,"file":"js/327.ed1e77e2.js","mappings":"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","sources":["webpack://projekt/./src/components/RegisterComponent.vue","webpack://projekt/./src/components/RegisterComponent.vue?4c8a"],"sourcesContent":["<template>\r\n  <form @submit.prevent=\"handleSubmit\" class=\"form-container\">\r\n    <h2 class=\"formbold-form-title\">Registrierung</h2>\r\n\r\n    <div class=\"formbold-input-flex\">\r\n      <div>\r\n        <label for=\"username\" class=\"formbold-form-label\">Benutzername</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"username\"\r\n          v-model=\"username\"\r\n          class=\"formbold-form-input\"\r\n          placeholder=\"Benutzername\"\r\n          required\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"formbold-input-flex\">\r\n      <div>\r\n        <label for=\"email\" class=\"formbold-form-label\">E-Mail</label>\r\n        <input\r\n          type=\"email\"\r\n          id=\"email\"\r\n          v-model=\"email\"\r\n          class=\"formbold-form-input\"\r\n          placeholder=\"E-Mail\"\r\n          required\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"formbold-input-flex\">\r\n      <div>\r\n        <label for=\"password\" class=\"formbold-form-label\">Passwort</label>\r\n        <input\r\n          type=\"password\"\r\n          id=\"password\"\r\n          v-model=\"password\"\r\n          class=\"formbold-form-input\"\r\n          placeholder=\"Passwort\"\r\n          required\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"formbold-input-flex\">\r\n      <div>\r\n        <label for=\"password_confirm\" class=\"formbold-form-label\">Passwort bestätigen</label>\r\n        <input\r\n          type=\"password\"\r\n          id=\"password_confirm\"\r\n          v-model=\"password_confirm\"\r\n          class=\"formbold-form-input\"\r\n          placeholder=\"Passwort eingeben\"\r\n          required\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"errorMessage\" class=\"alert alert-danger\">\r\n      {{ errorMessage }}\r\n    </div>\r\n    <div v-if=\"successMessage\" class=\"alert alert-success\">\r\n      {{ successMessage }}\r\n      <p>Du wirst in Kürze zur Startseite weitergeleitet...</p>\r\n    </div>\r\n\r\n    <button type=\"submit\" class=\"formbold-btn\">Registrieren</button>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"RegisterComponent\",\r\n  data() {\r\n    return {\r\n      username: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      password_confirm: \"\",\r\n      errorMessage: \"\",\r\n      successMessage: \"\",\r\n      stepLength: null\r\n    };\r\n  },\r\n  methods: {\r\n    validatePassword(password) {\r\n      const minLength = 8;\r\n      const hasUpperCase = /[A-Z]/.test(password);\r\n      const hasLowerCase = /[a-z]/.test(password);\r\n      const hasNumber = /[0-9]/.test(password);\r\n      const hasSpecialChar = /[!@#$%^&*(),.?\":{}|<>]/.test(password);\r\n\r\n      if (password.length < minLength) {\r\n        return \"Password must be at least 8 characters long.\";\r\n      }\r\n      if (!hasUpperCase) {\r\n        return \"Password must contain at least one uppercase letter.\";\r\n      }\r\n      if (!hasLowerCase) {\r\n        return \"Password must contain at least one lowercase letter.\";\r\n      }\r\n      if (!hasNumber) {\r\n        return \"Password must contain at least one number.\";\r\n      }\r\n      if (!hasSpecialChar) {\r\n        return \"Password must contain at least one special character.\";\r\n      }\r\n      return null;\r\n    },\r\n\r\n    async handleSubmit() {\r\n      const passwordError = this.validatePassword(this.password);\r\n      if (passwordError) {\r\n        this.errorMessage = passwordError;\r\n        this.successMessage = \"\";\r\n        return;\r\n      }\r\n\r\n      if (this.password !== this.password_confirm) {\r\n        this.errorMessage = \"The passwords don't match.\";\r\n        this.successMessage = \"\";\r\n        return;\r\n      }\r\n\r\n      const derivedStepSize = localStorage.getItem(\"derivedStepSize\");\r\n      const manualStepSize = localStorage.getItem(\"manualStepSize\");\r\n      this.stepLength = derivedStepSize ? Number(derivedStepSize) : (manualStepSize ? Number(manualStepSize) : null);\r\n\r\n      console.log(\"Type of stepLength:\", typeof this.stepLength);\r\n      console.log(\"Value of stepLength:\", this.stepLength);\r\n\r\n      const data = {\r\n        username: this.username,\r\n        email: this.email,\r\n        password: this.password,\r\n        step_length: this.stepLength\r\n      };\r\n\r\n      try {\r\n        const response = await axios.post(\"https://treescope.cs.hs-fulda.de/auth/register\", data);\r\n        if (response.status === 201) {\r\n          console.log(\"Registrierung erfolgreich:\", response.data);\r\n          this.errorMessage = \"\";\r\n          this.successMessage = \"Registrierung erfolgreich! Bitte überprüfe deine E-Mail und bestätige deine Adresse, bevor du dich anmeldest.\";\r\n          this.redirectToHome();\r\n        } else {\r\n          throw new Error(\"Unerwarteter Fehler\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Fehler bei der Registrierung:\", error);\r\n        if (error.response && error.response.status === 403) {\r\n          this.errorMessage = \"Diese E-Mail-Adresse oder der Benutzername wird bereits verwendet.\";\r\n        } else {\r\n          this.errorMessage = \"Es ist ein Fehler aufgetreten. Bitte versuche es erneut.\";\r\n        }\r\n        this.successMessage = \"\";\r\n      }\r\n    },\r\n\r\n    redirectToHome() {\r\n      setTimeout(() => {\r\n        window.location.href = \"/\";\r\n      }, 5000); // Weiterleitung nach 5 Sekunden\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import \"./style.css\";\r\n</style>\r\n","import { render } from \"./RegisterComponent.vue?vue&type=template&id=69616384&scoped=true\"\nimport script from \"./RegisterComponent.vue?vue&type=script&lang=js\"\nexport * from \"./RegisterComponent.vue?vue&type=script&lang=js\"\n\nimport \"./RegisterComponent.vue?vue&type=style&index=0&id=69616384&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-69616384\"]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","onSubmit","_cache","_withModifiers","args","$options","handleSubmit","_createElementVNode","_hoisted_1","for","type","id","$event","$data","username","placeholder","required","_hoisted_2","email","_hoisted_3","password","_hoisted_4","password_confirm","errorMessage","_hoisted_5","_toDisplayString","_createCommentVNode","successMessage","_hoisted_6","_createTextVNode","name","data","stepLength","methods","validatePassword","minLength","hasUpperCase","test","hasLowerCase","hasNumber","hasSpecialChar","length","passwordError","this","derivedStepSize","localStorage","getItem","manualStepSize","Number","console","log","step_length","response","axios","post","status","Error","redirectToHome","error","setTimeout","window","location","href","__exports__","render"],"sourceRoot":""}