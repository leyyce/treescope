{"version":3,"file":"js/619.2cd8f042.js","mappings":"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","sources":["webpack://projekt/./src/components/RegisterComponent.vue","webpack://projekt/./src/components/RegisterComponent.vue?4c8a"],"sourcesContent":["<template>\r\n  <form @submit.prevent=\"handleSubmit\" class=\"form-container\">\r\n    <h2 class=\"formbold-form-title\">Registrierung</h2>\r\n\r\n    <div class=\"formbold-input-flex\">\r\n      <div>\r\n        <label for=\"username\" class=\"formbold-form-label\">Benutzername</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"username\"\r\n          v-model=\"username\"\r\n          class=\"formbold-form-input\"\r\n          placeholder=\"Benutzername (max. 15 Zeichen)\"\r\n          required\r\n          maxlength=\"15\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"formbold-input-flex\">\r\n      <div>\r\n        <label for=\"email\" class=\"formbold-form-label\">E-Mail</label>\r\n        <input\r\n          type=\"email\"\r\n          id=\"email\"\r\n          v-model=\"email\"\r\n          class=\"formbold-form-input\"\r\n          placeholder=\"E-Mail\"\r\n          required\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"formbold-input-flex\">\r\n      <div>\r\n        <label for=\"password\" class=\"formbold-form-label\">Passwort</label>\r\n        <input\r\n          type=\"password\"\r\n          id=\"password\"\r\n          v-model=\"password\"\r\n          class=\"formbold-form-input\"\r\n          placeholder=\"Passwort (mind. 8 Zeichen)\"\r\n          required\r\n          minlength=\"8\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"formbold-input-flex\">\r\n      <div>\r\n        <label for=\"password_confirm\" class=\"formbold-form-label\">Passwort bestätigen</label>\r\n        <input\r\n          type=\"password\"\r\n          id=\"password_confirm\"\r\n          v-model=\"password_confirm\"\r\n          class=\"formbold-form-input\"\r\n          placeholder=\"Passwort eingeben\"\r\n          required\r\n          minlength=\"8\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"errorMessage\" class=\"alert alert-danger\">\r\n      {{ errorMessage }}\r\n    </div>\r\n    <div v-if=\"successMessage\" class=\"alert alert-success\">\r\n      {{ successMessage }}\r\n      <p>Du wirst in Kürze zur Startseite weitergeleitet...</p>\r\n    </div>\r\n\r\n    <button type=\"submit\" class=\"formbold-btn\">Registrieren</button>\r\n  </form>\r\n\r\n  <div class=\"login-link\">\r\n      <p>Schon ein Account vorhanden? <router-link to=\"/login\">Hier einloggen</router-link></p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"RegisterComponent\",\r\n  data() {\r\n    return {\r\n      username: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      password_confirm: \"\",\r\n      errorMessage: \"\",\r\n      successMessage: \"\",\r\n      stepLength: null\r\n    };\r\n  },\r\n  methods: {\r\n    validatePassword(password) {\r\n      const minLength = 8;\r\n      const hasUpperCase = /[A-Z]/.test(password);\r\n      const hasLowerCase = /[a-z]/.test(password);\r\n      const hasNumber = /[0-9]/.test(password);\r\n      const hasSpecialChar = /[!@#$%^&*(),.?\":{}|<>]/.test(password);\r\n\r\n      if (password.length < minLength) {\r\n        return \"Password must be at least 8 characters long.\";\r\n      }\r\n      if (!hasUpperCase) {\r\n        return \"Password must contain at least one uppercase letter.\";\r\n      }\r\n      if (!hasLowerCase) {\r\n        return \"Password must contain at least one lowercase letter.\";\r\n      }\r\n      if (!hasNumber) {\r\n        return \"Password must contain at least one number.\";\r\n      }\r\n      if (!hasSpecialChar) {\r\n        return \"Password must contain at least one special character.\";\r\n      }\r\n      return null;\r\n    },\r\n\r\n    async handleSubmit() {\r\n      const passwordError = this.validatePassword(this.password);\r\n      if (passwordError) {\r\n        this.errorMessage = passwordError;\r\n        this.successMessage = \"\";\r\n        return;\r\n      }\r\n\r\n      if (this.password !== this.password_confirm) {\r\n        this.errorMessage = \"The passwords don't match.\";\r\n        this.successMessage = \"\";\r\n        return;\r\n      }\r\n\r\n      this.stepLength = localStorage.getItem(\"step_size\") ? Number(localStorage.getItem(\"step_size\")) : null;\r\n      \r\n      console.log(\"Type of stepLength:\", typeof this.stepLength);\r\n      console.log(\"Value of stepLength:\", this.stepLength);\r\n\r\n      const data = {\r\n        username: this.username,\r\n        email: this.email,\r\n        password: this.password,\r\n        step_length: this.stepLength\r\n      };\r\n\r\n      try {\r\n        const response = await axios.post(\"https://treescope.cs.hs-fulda.de/auth/register\", data);\r\n        if (response.status === 201) {\r\n          console.log(\"Registrierung erfolgreich:\", response.data);\r\n          this.errorMessage = \"\";\r\n          this.successMessage = \"Registrierung erfolgreich! Bitte überprüfe deine E-Mail und bestätige deine Adresse, bevor du dich anmeldest.\";\r\n          this.redirectToHome();\r\n        } else {\r\n          throw new Error(\"Unerwarteter Fehler\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Fehler bei der Registrierung:\", error);\r\n        if (error.response && error.response.status === 403) {\r\n          this.errorMessage = \"Diese E-Mail-Adresse oder der Benutzername wird bereits verwendet.\";\r\n        } else {\r\n          this.errorMessage = \"Es ist ein Fehler aufgetreten. Bitte versuche es erneut.\";\r\n        }\r\n        this.successMessage = \"\";\r\n      }\r\n    },\r\n\r\n    redirectToHome() {\r\n      setTimeout(() => {\r\n        window.location.href = \"/\";\r\n      }, 5000);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n@import \"./style.css\";\r\n.login-link {\r\n    font-size: 14px;\r\n    margin-top: 15px;\r\n    text-align: center;\r\n  }\r\n</style>\r\n","import { render } from \"./RegisterComponent.vue?vue&type=template&id=4e21bb9c&scoped=true\"\nimport script from \"./RegisterComponent.vue?vue&type=script&lang=js\"\nexport * from \"./RegisterComponent.vue?vue&type=script&lang=js\"\n\nimport \"./RegisterComponent.vue?vue&type=style&index=0&id=4e21bb9c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4e21bb9c\"]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_Fragment","_createElementVNode","onSubmit","_cache","_withModifiers","args","$options","handleSubmit","_hoisted_1","for","type","id","$event","$data","username","placeholder","required","maxlength","_hoisted_2","email","_hoisted_3","password","minlength","_hoisted_4","password_confirm","errorMessage","_hoisted_5","_toDisplayString","_createCommentVNode","successMessage","_hoisted_6","_createTextVNode","_hoisted_7","_createVNode","_component_router_link","to","default","_withCtx","_","name","data","stepLength","methods","validatePassword","minLength","hasUpperCase","test","hasLowerCase","hasNumber","hasSpecialChar","length","passwordError","this","localStorage","getItem","Number","console","log","step_length","response","axios","post","status","Error","redirectToHome","error","setTimeout","window","location","href","__exports__","render"],"sourceRoot":""}