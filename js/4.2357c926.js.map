{"version":3,"file":"js/4.2357c926.js","mappings":"qcAyDA,MAAMA,GAAWC,EAAAA,EAAAA,IAAI,IACfC,GAAWD,EAAAA,EAAAA,IAAI,IACfE,GAAeF,EAAAA,EAAAA,IAAI,IACnBG,GAASC,EAAAA,EAAAA,MAETC,EAAQC,UACZ,IACE,MAAMC,QAAiBC,MAAM,8CAA+C,CAC1EC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBd,SAAUA,EAASe,MACnBb,SAAUA,EAASa,UAIjBC,QAAaR,EAASS,OAGxBT,EAASU,IACXC,aAAaC,QAAQ,QAASJ,EAAKK,cACnCF,aAAaC,QAAQ,YAAaJ,EAAKM,KAAKC,aAC5CnB,EAAOoB,KAAK,MAEZrB,EAAaY,MAAQC,EAAKS,OAAS,sBAEvC,CAAE,MAAOA,GACPtB,EAAaY,MAAQ,6CACvB,G,o9CCjFF,MAAMW,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://projekt/./src/components/LoginComponent.vue","webpack://projekt/./src/components/LoginComponent.vue?29d0"],"sourcesContent":["<template>\r\n  <div class=\"form-container\">\r\n    <h2 class=\"formbold-form-title\">Login</h2>\r\n\r\n    <div class=\"formbold-input-flex\">\r\n      <div>\r\n        <label for=\"username\" class=\"formbold-form-label\">Benutzername</label>\r\n        <input\r\n          v-model=\"username\"\r\n          type=\"text\"\r\n          name=\"Username\"\r\n          id=\"email\"\r\n          placeholder=\"Benutzername eingeben\"\r\n          class=\"formbold-form-input\"\r\n          required\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"formbold-input-flex\">\r\n      <div>\r\n        <label for=\"password\" class=\"formbold-form-label\">Passwort</label>\r\n        <input\r\n          v-model=\"password\"\r\n          type=\"password\"\r\n          name=\"password\"\r\n          id=\"password\"\r\n          placeholder=\"Passwort eingeben\"\r\n          class=\"formbold-form-input\"\r\n          required\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"formbold-input-flex remember-forgot\">\r\n      <label for=\"remember\">\r\n        <input type=\"checkbox\" id=\"remember\" /> Merken\r\n        <router-link to=\"/passwordreset\">\r\n          <button class=\"formbold-btn\">Passwort vergessen?</button>\r\n        </router-link>\r\n      </label>\r\n    </div>\r\n\r\n    <button @click=\"login\" class=\"formbold-btn\">Login</button>\r\n\r\n    <div class=\"register-link\">\r\n      <p>Noch kein Account? <router-link to=\"/register\">Hier registrieren</router-link></p>\r\n    </div>\r\n\r\n    <p v-if=\"errorMessage\">{{ errorMessage }}</p>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\n\r\nconst username = ref(\"\");\r\nconst password = ref(\"\");\r\nconst errorMessage = ref(\"\");\r\nconst router = useRouter();\r\n\r\nconst login = async () => {\r\n  try {\r\n    const response = await fetch(\"https://treescope.cs.hs-fulda.de/auth/login\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        username: username.value,\r\n        password: password.value,\r\n      }),\r\n    });\r\n\r\n    const data = await response.json();\r\n    //console.log(data)\r\n\r\n    if (response.ok) {\r\n      localStorage.setItem(\"token\", data.access_token);\r\n      localStorage.setItem(\"step_size\", data.user.step_length);\r\n      router.push(\"/\");\r\n    } else {\r\n      errorMessage.value = data.error || \"Login fehlgeschlagen\";\r\n    }\r\n  } catch (error) {\r\n    errorMessage.value = \"Netzwerkfehler oder Server nicht erreichbar\";\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import './style.css';\r\n</style>\r\n","import script from \"./LoginComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LoginComponent.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LoginComponent.vue?vue&type=style&index=0&id=47015578&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-47015578\"]])\n\nexport default __exports__"],"names":["username","ref","password","errorMessage","router","useRouter","login","async","response","fetch","method","headers","body","JSON","stringify","value","data","json","ok","localStorage","setItem","access_token","user","step_length","push","error","__exports__"],"sourceRoot":""}